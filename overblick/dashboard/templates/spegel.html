{% extends "base.html" %}

{% block title %}Spegel{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Spegel</h1>
    <p class="page-subtitle">Inter-agent psychological profiling â€” self-awareness through others' eyes</p>
</div>

{% if pairs %}
{% for pair in pairs %}
<div class="card spegel-pair">
    <div class="card-header">
        <h2 class="spegel-pair-title">
            {{ pair.profile.observer_display_name or pair.observer_name }}
            <span class="spegel-pair-label">profiles</span>
            {{ pair.profile.target_display_name or pair.target_name }}
        </h2>
    </div>
    <div class="spegel-grid">
        <div>
            <h3 class="spegel-section-title">
                Profile by {{ pair.profile.observer_display_name or pair.observer_name }}
            </h3>
            <div class="spegel-text">{{ pair.profile.profile_text }}</div>
        </div>
        <div class="spegel-reflection-col">
            <h3 class="spegel-section-title--reflection">
                Reflection by {{ pair.reflection.target_display_name or pair.target_name }}
            </h3>
            <div class="spegel-text">{{ pair.reflection.reflection_text }}</div>
        </div>
    </div>
</div>
{% endfor %}
{% else %}
<div class="card">
    <div class="spegel-empty">
        <p>No profiling pairs generated yet.</p>
        <p class="spegel-empty-hint">Profiles are generated on a weekly schedule.</p>
    </div>
</div>
{% endif %}
{% endblock %}
