{% for card in plugin_cards %}
<div class="agent-card" id="plugin-{{ card.name }}">
    <div class="agent-card-header">
        <span class="status-dot status-{{ 'running' if card.running_count > 0 else 'stopped' }}" aria-hidden="true"></span>
        <h3 class="agent-card-name">{{ card.display_name }}</h3>
    </div>
    <p class="agent-card-desc">
        {{ card.agent_count }} agent{{ 's' if card.agent_count != 1 else '' }} using this plugin
        {% if card.running_count > 0 %}
        ({{ card.running_count }} running)
        {% endif %}
    </p>
    <div class="agent-card-meta">
        <span class="meta-item mono">{{ card.name }}</span>
    </div>

    <!-- List agents using this plugin with mini radar charts -->
    <div class="agent-list">
        {% for agent in card.agents %}
        <div class="agent-mini">
            <a href="/agent/{{ agent.name }}" class="agent-mini-link">
                <span class="status-dot status-{{ agent.state }}" aria-hidden="true"></span>
                <span class="agent-mini-name">{{ agent.display_name }}</span>
            </a>
            {% if agent.traits %}
            <canvas class="radar-mini" width="60" height="60"
                    data-radar-chart
                    data-traits='{{ agent.traits | tojson }}'
                    title="Personality: {{ agent.traits | tojson }}">
            </canvas>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</div>
{% endfor %}
{% if not plugin_cards %}
<div class="empty-state">
    <p>No plugins configured yet.</p>
    <a href="/onboard" class="btn btn-primary btn-sm">Create your first identity</a>
</div>
{% endif %}
